#+TITLE: Auth Feature - Quick Reference
#+DATE: 2026-01-31

* Overview

Authentication feature module for TenderRender. Provides login UI with retro arcade styling, auth state management via React Context, and a dev bypass mode for local development.

* Components

| Component | File | Purpose |
|-----------|------|---------|
| LoginCard | components/LoginCard.tsx:23 | Login form with username/password inputs and arcade styling |
| CombinedLogo | components/CombinedLogo.tsx:19 | Branded logo showing StrideShift Global + TenderRender text |
| PixelBootLoader | components/PixelBootLoader.tsx:33 | Animated 10x10 pixel grid loader shown during auth |

* Hooks

| Hook | File | Purpose |
|------|------|---------|
| useAuth | contexts/AuthContext.tsx:73 | Access auth state and login/logout functions from context |

* Context

| Context | File | Purpose |
|---------|------|---------|
| AuthContext | contexts/AuthContext.tsx:9 | React context holding auth state and methods |
| AuthProvider | contexts/AuthContext.tsx:15 | Provider component wrapping app with auth state |

* Types

| Type | File | Purpose |
|------|------|---------|
| User | types.ts:1 | User object with id and email fields |
| AuthState | types.ts:6 | Auth state shape: user, clientCode, isAuthenticated, isLoading |
| AuthContextValue | contexts/AuthContext.tsx:4 | AuthState extended with login/logout methods |

* Component Hierarchy

LoginCard
├─ CombinedLogo (logo with optional loading animation)
│  └─ PixelBootLoader (animated pixel grid, shown when loading)
└─ Form
   ├─ Username input
   ├─ Password input
   └─ ArcadeButton (submit)

* Login Flow

1. User enters username and password in LoginCard form
2. Form submit calls onLogin callback (passed from parent)
3. Parent calls auth.login(email, password) from useAuth hook
4. AuthProvider.login sets isLoading=true, triggers 2s simulated delay
5. On success: user, clientCode, isAuthenticated are set; isLoading=false
6. LoginCard shows PixelBootLoader animation via CombinedLogo during loading

* Dev Bypass Mode

When VITE_DEV_CLIENT_CODE env var is set:
- AuthProvider auto-authenticates on mount
- Creates mock user: id="dev-user-001", email="dev@tenderrender.local"
- Sets clientCode from env var
- Skips login screen entirely

* Component Props

** LoginCard

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| onLogin | (username: string, password: string) => void | Yes | Callback when form is submitted |
| isLoading | boolean | Yes | Shows loading state, disables inputs |

** CombinedLogo

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| size | 'medium' \vert 'large' \vert 'xlarge' | No | 'large' | Logo size preset |
| showPixelBoot | boolean | No | false | Show PixelBootLoader instead of static logo |

** PixelBootLoader

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| size | 'small' \vert 'medium' \vert 'large' | No | 'medium' | Pixel size preset |
| color | string | No | '#2a9d8f' | Color for active pixels |

* useAuth Return Value

| Property | Type | Description |
|----------|------|-------------|
| user | User \vert null | Current authenticated user |
| clientCode | string \vert null | Client code for data scoping |
| isAuthenticated | boolean | Whether user is logged in |
| isLoading | boolean | Auth operation in progress |
| login | (email: string, password: string) => Promise<void> | Trigger login |
| logout | () => void | Clear auth state |

* Theme Colors

Light mode palette used across auth components:

| Color | Hex | Usage |
|-------|-----|-------|
| primary | #2a9d8f | Teal - borders, logo, text accents |
| accent | #e76f51 | Coral - racing stripes, secondary highlights |
| bg | #faf8f5 | Cream - page background |
| bgCard | #ffffff | White - card background |
| textMuted | #6b7c8a | Gray - labels, secondary text |
| text | #2d3436 | Dark gray - primary text |
| border | #d4cfc5 | Light brown - input borders |

---
/Last Updated/: 2026-01-31
